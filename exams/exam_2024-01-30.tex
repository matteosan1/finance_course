\documentclass[12pt,a4paper]{exam}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
%\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{enumitem}

\geometry{a4paper, margin=2cm}

\usepackage{cprotect}

\usepackage{xcolor}
\definecolor{maroon}{cmyk}{0, 0.87, 0.68, 0.32}
\definecolor{halfgray}{gray}{0.55}
\definecolor{ipython-frame}{RGB}{207, 207, 207}
\definecolor{ipython-bg}{RGB}{247, 247, 247}
\definecolor{ipython-red}{RGB}{186, 33, 33}
\definecolor{ipython-green}{RGB}{0, 128, 0}
\definecolor{ipython-cyan}{RGB}{64, 128, 128}
\definecolor{ipython-purple}{RGB}{170, 34, 255}

\usepackage{listings}
\lstdefinelanguage{iPython}{
	morekeywords={access,and,del,except,exec,in,is,lambda,not,or,raise},
	morekeywords=[2]{for,print,abs,all,any,basestring,bin,bool,bytearray,callable,chr,classmethod,cmp,compile,complex,delattr,dict,dir,divmod,enumerate,eval,execfile,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,isinstance,issubclass,iter,len,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,property,range,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,apply,buffer,coerce,intern,elif,else,if,continue,break,while,class,def,return,try,except,import,finally,try,except,from,global,pass, True, False},
	sensitive=true,
	morecomment=[l]\#,%
	morestring=[b]',%
	morestring=[b]",%
	moredelim=**[is][\color{black}]{@@}{@@},
	identifierstyle=\color{black}\footnotesize\ttfamily,
	commentstyle=\color{ipython-cyan}\footnotesize\itshape\ttfamily,
	stringstyle=\color{ipython-red}\footnotesize\ttfamily,
	keepspaces=true,
	showspaces=false,
	showstringspaces=false,
	rulecolor=\color{ipython-frame},
	frame=single,
	frameround={t}{t}{t}{t},
	backgroundcolor=\color{ipython-bg},
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=[2]\color{ipython-green}\bfseries\footnotesize\ttfamily, 
	keywordstyle=\color{ipython-purple}\bfseries\footnotesize\ttfamily
}

\lstdefinelanguage{iOutput} {
	sensitive=true,
	identifierstyle=\color{black}\small\ttfamily,
	stringstyle=\color{ipython-red}\small\ttfamily,
	keepspaces=true,
	showspaces=false,
	showstringspaces=false,
	rulecolor=\color{ipython-frame},
	basicstyle=\small\ttfamily,
}

\lstnewenvironment{ipython}[1][]{\lstset{language=iPython,mathescape=true,escapeinside={*@}{@*}}%
}{%
}

\lstnewenvironment{ioutput}[1][]{\lstset{language=iOutput,mathescape=true,escapeinside={*@}{@*}}%
}{%
}


\title{Financial Market Course 23/24\\ Exam}
\author{Prof. Simone Freschi, Prof. Matteo Sani}
\date{$30^{\mathrm{st}}$ January 2024}

%\printanswers
\noprintanswers
\begin{document}
\maketitle

\begin{center}
\fbox{\fbox{\parbox{5.5in}{
Answer the questions in the spaces provided. If you run out of room for an answer, continue on the page back.}}}
\end{center}

\begin{center}
\vspace{5mm}
\makebox[0.75\textwidth]{Student's name:\enspace\hrulefill}
\end{center}

\section*{Questions}
\vspace{.5cm}
\begin{questions}

\question Describe the asset swap contract for a coupon bond with coupons equal to \textbf{C} and dirty Price equal to $P(t)$.	
\begin{enumerate}
\item What will happen to the price if the spread increase, all the rest being equal? What does it mean in term of credit quality expectation by the market for the bond's issuer?
\item What is the difference between asset swap spread and \textbf{G-spread} or \textbf{I-spread} calculated in Bloomberg screen?
\end{enumerate}
\fillwithlines{3cm}

\question Describe the equation for the return attribution model by Brinson, Hood and Beebower (BHB). 
\begin{enumerate}[label=(\alph*),font=\itshape]
\item Explain the difference between Allocation Effect and Security Selection Effect 
\item Imagine that your portfolio is overweight Energy (30\% vs 20\% Benchmark) and the Energy sector is up 15\%. Your energy stocks in the portfolio are up only 5\%. Determine the allocation effect and the selection effect and the overall portfolio result.
\end{enumerate}
\fillwithlines{3cm}

\question Risk-Performance Evaluation Measures.
\begin{enumerate}
\item Describe the Capture Ratio Measures. Imagine that Asset manager \textbf{A} has an Upside Capture Ratio of 140\% and Downside Capture Ratio of 110\%; Asset manager \textbf{B} has an Upside Capture Ratio of 90\% and Downside Capture Ratio of 70\%; who is the best according to this measure?
\item Describe the Draw-Down measure and the Max Draw-Down measure. Imagine that Asset manager \textbf{A} has an expected excess return of 10\% and Max Draw-Down equal to 20\%; Asset manager \textbf{B} has an expected excess return of 5\% and Max Draw-Down equal to 7\%; who would you prefer and why? Will your choice be different if you had a target return of more or equal to 10\%?

\end{enumerate}
\fillwithlines{3cm}


\question
Consider a 4-years Payer Interest Rate Swap with 1M notional, 2.3\% fixed rate and whose floating leg rates are determined by the EURIBOR-6M. 
If the current NPV of the contract is about 33kâ‚¬ which of the following is true:
\begin{checkboxes}
\item the swap rate $S$ is greater than 2.3\%;
\item the swap rate $S$ is equal to 2.3\%;
\item the swap rate $S$ is smaller than 2.3\%.
\end{checkboxes}
Briefly motivate your choice.

\fillwithlines{3cm}
\begin{solution}
The NPV of the payer IRS is $\text{NPV}=N(S-K)A$, since $N$ and $A$ are positive by definition and that $\text{NPV}>0$ it has to be $S>K$.
\end{solution}

\question
Under the assumption of the Markowitz \emph{Modern Portfolio Theory} (MPT) the asset allocation can be determined by either minimizing the portfolio variance or maximizing the portfolio expected return. Are the two procedure leading to the \textbf{same} portfolio, i.e. the weights are going to be the same in the two cases ? (explain if and when this is the case).
\fillwithlines{3cm}
\begin{solution}
The resulting portfolios will have the maximum expected return and the lowest risk respectively hence the asset allocation won't be necessarily the same. In order to get the same weights it is necessary to add additional condition on either on the target return or on the target risk.
\end{solution}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question
What is the output of the following \texttt{python} code (justify your choice)

\begin{ipython}
def func(n):
    return 1 if n <= 1 else n * func(n - 1)

print (func(4))
\end{ipython}
\begin{checkboxes}
\choice 10
\choice 24
\choice this code is bugged
\choice 42
\end{checkboxes}
\fillwithlines{3cm}
\begin{solution}
This is an implementation of the factorial function using recursion. Recursion is a particular technique which consists in
calling a function from within itself. It is quite a powerful tool but it must be handled with care since it may easily result in
undesired behaviour. So the answer is
\begin{ioutput}
24
\end{ioutput}
\end{solution}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\question
What is the main difference between a \texttt{for} and a \texttt{while} loop in \texttt{python} ?

\fillwithlines{3cm}
\begin{solution}
The for loop is used when we know the number of iterations, that is, how many times a statement must be executed. That is why, when we initialize the for loop, we must define the ending point.

A while loop is used when the number of iterations is unknown. It is used when we need to end the loop on a condition other than the number of repetitions. It is not necessary to know the condition ahead of time in this case. That is why we can use a boolean expression in the loop's initialization.
\end{solution}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\question
What is the use of the Loss functions in a Neural Network model ?
\fillwithlines{3cm}
\begin{solution}
The loss function is used as a measure of accuracy to identify whether our neural network has learned the patterns accurately or not with the help of the training data.
This is completed by comparing the training data with the testing data.

Therefore, the loss function is considered as a primary measure for the performance of the neural network. In Deep Learning, a good-performing neural network will have a low value of the loss function at all times when training happens.
\end{solution}

\end{questions}
\end{document}
