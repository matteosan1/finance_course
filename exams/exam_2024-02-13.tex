\documentclass[12pt,a4paper]{exam}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
%\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{enumitem}

\geometry{a4paper, margin=2cm}

\usepackage{cprotect}

\usepackage{xcolor}
\definecolor{maroon}{cmyk}{0, 0.87, 0.68, 0.32}
\definecolor{halfgray}{gray}{0.55}
\definecolor{ipython-frame}{RGB}{207, 207, 207}
\definecolor{ipython-bg}{RGB}{247, 247, 247}
\definecolor{ipython-red}{RGB}{186, 33, 33}
\definecolor{ipython-green}{RGB}{0, 128, 0}
\definecolor{ipython-cyan}{RGB}{64, 128, 128}
\definecolor{ipython-purple}{RGB}{170, 34, 255}

\usepackage{listings}
\lstdefinelanguage{iPython}{
	morekeywords={access,and,del,except,exec,in,is,lambda,not,or,raise},
	morekeywords=[2]{for,print,abs,all,any,basestring,bin,bool,bytearray,callable,chr,classmethod,cmp,compile,complex,delattr,dict,dir,divmod,enumerate,eval,execfile,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,isinstance,issubclass,iter,len,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,property,range,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,apply,buffer,coerce,intern,elif,else,if,continue,break,while,class,def,return,try,except,import,finally,try,except,from,global,pass, True, False},
	sensitive=true,
	morecomment=[l]\#,%
	morestring=[b]',%
	morestring=[b]",%
	moredelim=**[is][\color{black}]{@@}{@@},
	identifierstyle=\color{black}\footnotesize\ttfamily,
	commentstyle=\color{ipython-cyan}\footnotesize\itshape\ttfamily,
	stringstyle=\color{ipython-red}\footnotesize\ttfamily,
	keepspaces=true,
	showspaces=false,
	showstringspaces=false,
	rulecolor=\color{ipython-frame},
	frame=single,
	frameround={t}{t}{t}{t},
	backgroundcolor=\color{ipython-bg},
	basicstyle=\footnotesize\ttfamily,
	keywordstyle=[2]\color{ipython-green}\bfseries\footnotesize\ttfamily, 
	keywordstyle=\color{ipython-purple}\bfseries\footnotesize\ttfamily
}

\lstdefinelanguage{iOutput} {
	sensitive=true,
	identifierstyle=\color{black}\small\ttfamily,
	stringstyle=\color{ipython-red}\small\ttfamily,
	keepspaces=true,
	showspaces=false,
	showstringspaces=false,
	rulecolor=\color{ipython-frame},
	basicstyle=\small\ttfamily,
}

\lstnewenvironment{ipython}[1][]{\lstset{language=iPython,mathescape=true,escapeinside={*@}{@*}}%
}{%
}

\lstnewenvironment{ioutput}[1][]{\lstset{language=iOutput,mathescape=true,escapeinside={*@}{@*}}%
}{%
}


\title{Financial Market Course 23/24\\ Exam}
\author{Prof. Simone Freschi, Prof. Matteo Sani}
\date{$13^{\mathrm{st}}$ February 2024}

\printanswers
%\noprintanswers
\begin{document}
\maketitle

\begin{center}
\fbox{\fbox{\parbox{5.5in}{
Answer the questions in the spaces provided. If you run out of room for an answer, continue on the page back.}}}
\end{center}

\begin{center}
\vspace{5mm}
\makebox[0.75\textwidth]{Student's name:\enspace\hrulefill}
\end{center}

\section*{Questions}
\vspace{.5cm}
\begin{questions}

\question Describe the asset swap contract for a coupon bond with coupons equal to \textbf{C} and dirty Price equal to $P(t)$.	
\begin{enumerate}
\item What will happen to the price if the spread increase, all the rest being equal? What does it mean in term of credit quality expectation by the market for the bond's issuer?
\item What is the difference between asset swap spread and \textbf{G-spread} or \textbf{I-spread} calculated in Bloomberg screen?
\end{enumerate}
\fillwithlines{3cm}

\question Describe the equation for the return attribution model by Brinson, Hood and Beebower (BHB). 
\begin{enumerate}[label=(\alph*),font=\itshape]
\item Explain the difference between Allocation Effect and Security Selection Effect 
\item Imagine that your portfolio is overweight Energy (30\% vs 20\% Benchmark) and the Energy sector is up 15\%. Your energy stocks in the portfolio are up only 5\%. Determine the allocation effect and the selection effect and the overall portfolio result.
\end{enumerate}
\fillwithlines{3cm}

\question Risk-Performance Evaluation Measures.
\begin{enumerate}
\item Describe the Capture Ratio Measures. Imagine that Asset manager \textbf{A} has an Upside Capture Ratio of 140\% and Downside Capture Ratio of 110\%; Asset manager \textbf{B} has an Upside Capture Ratio of 90\% and Downside Capture Ratio of 70\%; who is the best according to this measure?
\item Describe the Draw-Down measure and the Max Draw-Down measure. Imagine that Asset manager \textbf{A} has an expected excess return of 10\% and Max Draw-Down equal to 20\%; Asset manager \textbf{B} has an expected excess return of 5\% and Max Draw-Down equal to 7\%; who would you prefer and why? Will your choice be different if you had a target return of more or equal to 10\%?

\end{enumerate}
\fillwithlines{3cm}

\question You are given the following interest rates term structure
\begin{center}
\begin{tabular}{|c|c|}
\hline
Time (years)& Spot Rate \\ \hline
1 & 4.00\% \\ \hline
2 & 5.00\% \\ \hline
3 & 5.75\% \\ \hline
4 & 6.25\% \\ \hline
5 & 6.50\% \\ \hline
\end{tabular}
\end{center}
Mario enters into a 2-years interest rate swap with a nominal of â‚¬5000 and annual settlement periods. Under the swap, Mario will pay the fixed rate and receive the variable rate.
\begin{enumerate}
\item Calculate the one-year forward interest rate, deferred one year;
\item determine the fixed interest rate of the contract;
\item determine the net swap payment that will occur at the end of the first year and state
whether Mario will receive or make the payment.
\end{enumerate}

\fillwithlines{3cm}
\begin{solution}
\begin{enumerate}
\item The forward rate between $t_1$ and $t_2$ can be determined as
\begin{equation*}
F_{12} = \cfrac{r_2\cdot t_2 - r_1\cdot t_1}{t_2 - t_1} = 6\%
\end{equation*}
\item The fixed interest rate is the swap rate $S$:
\begin{equation*}
S = \cfrac{\sum_i f(t_{i-1}, t_i) D_i}{\sum_i D_i} = \cfrac{\frac{0.04}{1.04} + \frac{0.06}{1.05^2}}{\frac{1}{1.04}+\frac{1}{1.05^2}} = 4.97\%
\end{equation*}
\item At the end of one year, Mario would pay the fixed rate and would receive the variable rate. Therefore, Mario would pay $5000\cdot 0.0497 = 248.54$ and would receive $5000\cdot 0.04 = 200$. Mario would make a net swap payment of 48.54 to the counterparty.
\end{enumerate}
\end{solution}

\question
Which of the following are valid variable names in \texttt{python} 

\begin{checkboxes}
\choice \texttt{1\_data}
\choice \texttt{old-data}
\choice \texttt{prince\_in\_\$}
\choice \texttt{data\_1}
\choice \texttt{\_output}
\end{checkboxes}
\begin{solution}
The only two valid variable names are \texttt{\_output} and \texttt{data\_1} since: cannot start with a number, cannot contain operators (e.g. \texttt{-}), and special characters like \texttt{\$}.
\end{solution}

\question
Company A finances itself by issuing a 5 year zero-coupon bond. Knowing that the bond is currently sold at \$ 83.75 and that similar riskless ZCB value is \$ 86.07, determine Company A default probability (assume the recovery rate to be 40\%).
\fillwithlines{3cm}
\begin{solution}
The bond price is related to the default probability $\delta$ through the following formula
\begin{equation*}
  P_{bond} = (1-\delta)P_{rf} + \delta P_{rf} R \implies \delta = \frac{P_{bond}-P_{rf}}{P_{rf}(R-1)}
\end{equation*}

Applying previous result to the problem gives a default probability of
\begin{equation*}
  \delta = \frac{83.75-86.07}{86.07\cdot(0.4-1)} \approx 4.5\% 
\end{equation*}
\end{solution}


\question
What is the role of the \emph{activation function} in Neural Network architecture ?
\fillwithlines{3cm}
\begin{solution}
The reasons for using activation functions in Neural Network architecture are the following:
\begin{itemize}
\item the idea behind the activation function is to introduce nonlinearity into the neural network so that it can learn more complex functions;
\item without the activation function, the neural network behaves as a linear classifier, learning the function which is a linear combination of its input data;
\item the activation function converts the inputs into outputs;
\item the activation function is responsible for deciding whether a neuron should be fired or not.
\end{itemize}
\end{solution}

\end{questions}
\end{document}
