\chapter{Credit Default Swaps}\label{introduction-to-python---lesson-9}

\section{Exercises}

\begin{Exercise}
Update \verb!finmarkets! module with \verb!CreditCurve! and \verb!CreditDefaultSwap! classes.
\end{Exercise}
\begin{Answer}
\end{Answer}

\begin{Exercise}[title={(Boostrapping reprise)}]
Applying a bootstrapping technique, outlined in Lesson~\ref{}, derive the a
credit curve from the following CDS market quotes:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pricing_date }\OperatorTok{=}\NormalTok{ date(}\DecValTok{2019}\NormalTok{, }\DecValTok{11}\NormalTok{, }\DecValTok{6}\NormalTok{)}

\NormalTok{cds_quotes }\OperatorTok{=}\NormalTok{ [}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{12}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0149}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{24}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0165}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{36}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0173}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{69}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0182}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{120}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0183}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'maturity'}\NormalTok{: }\DecValTok{240}\NormalTok{, }\StringTok{'spread'}\NormalTok{:}\FloatTok{0.0184}\NormalTok{\},}
\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\hypertarget{hint}{%
\paragraph{Hint}\label{hint}}

\begin{itemize}
\tightlist
\item
  create a CDS contract for each input market quote;
\item
  implement an objective function to minimize the squared sum of the CDS
  npvs, the function has to implement also a \texttt{CreditCurve} with
  the unknown (to be detrmined by the bootstrap survival probabilities)
  and a list of pillars corresponding to the CDS maturities;
\item
  remember to set initial guesses and boundary conditions for the
  unknown parameters (the first survival probability has to be set to 1
  since no default happened !, the others free to move between {[}0.01
  to 1{]});
\item
  using the \texttt{scipy.optimize.minimize} find the curve.
\end{itemize}
\end{Exercise}
\begin{Answer}
\end{Answer}

\begin{Exercise}
Using the above \texttt{Credit\ Curve} and the \texttt{DiscountCurve}
already defined in lesson 5, price the following CDS:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cds_to_price }\OperatorTok{=}\NormalTok{ [}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{18}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{30}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{42}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{72}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{108}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{132}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{160}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{184}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\},}
\NormalTok{    \{}\StringTok{'nominal'}\NormalTok{: }\DecValTok{5000000}\NormalTok{, }\StringTok{'maturity'}\NormalTok{: }\DecValTok{210}\NormalTok{, }\StringTok{'spread'}\NormalTok{: }\FloatTok{0.02}\NormalTok{\}}
\NormalTok{]}
\end{Highlighting}
\end{Shaded}
\end{Exercise}
\begin{Answer}
\end{Answer}
