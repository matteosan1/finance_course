\begin{question}
What is the built-in function that \(\tt{python}\) uses to iterate over a number sequence ? Write an example that uses it.
\end{question}

\cprotEnv \begin{solution}
The built-in function used to iterate over a sequence of numbers is \(\tt{range}\). It returns a sequence of numbers taking three parameters that represents respectively the lower boundary of the sequence, the upper boundary of the sequence and the step. Note that the upper boundary is excluded from the sequence.

\begin{ipython}
for i in range(10, 20, 2):
    print (i)

10
12
14
16
18
\end{ipython}
If just one parameter is passed the default lower boundary is 0 and the step is 1. 
\begin{ipython}
for i in range(5):
    print (i)
    
0
1
2
3
4
\end{ipython}
\end{solution}

\begin{question}
What is a string in \(\tt{python}\) ? Declare one string variable and try to manipulate it (concatenate, make uppercase, capitalize, replace characters, split...).
\end{question}

\cprotEnv \begin{solution}
A string is simply a sequence of characters.

\begin{ipython}
aString = "this is a string"
  
aString = aString + ", just an example"
print(aString)
'this is a string, just an example'

print(aString.upper())
'THIS IS A STRING, JUST AN EXAMPLE'

print(aString.capitalize())
'This is a string, just an example'

print(aString.replace("just an", "for"))
'this is a string, for example'

print(aString.split(","))
['this is a string', ' just an example']

if aString.endswith("example"):
    print("This string is really an example.")
else:
    print("This string is not an example.")
'This string is really an example.'
\end{ipython}
\end{solution}

\begin{question}
What does the continue do in \(\tt{python}\) ? Show an example of its usage printing all the odd numbers between 0 and 10.
\end{question}

\cprotEnv \begin{solution}
\(\tt{continue}\) is used to skip cycles in for loops. Note that \% is the module operator, it returns the reminder of a division.

\begin{ipython}
for i in range(10):
    if i%2 == 0:
        continue
    else:
        print(i)

1
3
5
7
9
\end{ipython}
\end{solution}

\begin{question}
When should you use the break in \(\tt{python}\) ? Show an example of its usage.
\end{question}

\cprotEnv \begin{solution}
\(\tt{break}\) is the command used to interrupt a while loop even if the while condition is still satisfied.

\begin{ipython}
i = 0
while i < 11:
    if (i/2) > 3:
        break
    print(i)
    i += 1 

0
1
2
3
4
5
6
\end{ipython}
\end{solution}

\begin{question}
Which \(\tt{python}\) function will you use to convert a number to a string ? Show an example.
\end{question}

\cprotEnv \begin{solution}
\(\tt{str()}\) is the correct function to use in order to cast a number to a string.

\begin{ipython}
x = 2.34
print("This {} is of type {}".format(x, type(x)))
print("This {} is of type {}".format(str(x), type(str(x))))

This 2.34 is of type <class 'float'>
This 2.34 is of type <class 'str'>
\end{ipython}
\end{solution}

\begin{question}
Import the math module and compute the logarithm of 2.09, the exponential of 1.57 and the area of a circle of radius 6 cm (circle area = $\pi \cdot r^2$).
\end{question}

\cprotEnv \begin{solution}
\begin{ipython}
import math

print ("log(2.09) = {}".format(math.log(2.09))
print ("exp(1.57) = {}".format(math.exp(1.57))
print ("area of a circle (R=6cm) is about {} cm2".format(math.pi*6*6))

log(2.09) = 0.7371640659767196
exp(1.57) = 4.806648193775178
area of circle (R=6cm) is about 113.10 cm2
\end{ipython}
\end{solution}

\cprotEnv \begin{question}
Given the following variables write out the Black Scholes formula and save the value of a call in a variable named `call\_price' and the value of a put in a variable named `put\_price'.

\begin{ipython}
S_t = 800.0 # spot price of the underlying
K = 600.0 # strike price
vol = 0.25 # volatility
r = 0.01 # interest rate
ttm = 0.5 # time to maturity, in years
\end{ipython}
\textbf{Hint:} remember that there are many modules available in \texttt{python} that let you save a lot of time. In this case we need the cumulative distribution function of the standard normal distribution which can be found in \texttt{scipy.stats} module, the name of the function is \texttt{norm}.
\end{question}

\cprotEnv \begin{solution}
The BS equation for the price of a call is:

\[ C(S, t) = S_tN(d_1)-Ke^{-r(T-t)}N(d_2) \]

where
\begin{itemize}
\item \(S_t\) is the spot price of the underlying
\item \(K\) is the strike price
\item \(r\) is the risk-free interest rate (expressed in terms of continuous compounding)
\item \(N(\cdot)\) is the cumulative distribution function of the standard normal distribution
\item \(T - t\) is the time to maturity
\item \(\sigma\) is the volatility of the underlying
\end{itemize}

\[\begin{split}
d_1 & = \cfrac{\mathrm{ln}(\cfrac{S_t}{K}) + (r + \cfrac{1}{2}\sigma^{2})(T-t)}{\sigma\sqrt{T-t}}\\ \\
d_2 & = d_1 - \sigma\sqrt{T-t}\\
\end{split}\]

\begin{ipython}
from math import log, exp, sqrt
# You'll need the Gaussian cumulative distribution function 
from scipy.stats import norm

S_t = 800.0 
ttm = 0.5
K = 600.0 
vol = 0.25 
r = 0.01

d1_num = (log(S_t/K)+(r+0.5*pow(vol, 2))*ttm) 
d1_den = vol*sqrt(ttm)
d1 = d1_num /d1_den
d2 = d1 - d1_den

call_price = S_t * norm.cdf(d1) - K * exp(-r*ttm)*norm.cdf(d2)
put_price = - S_t * norm.cdf(-d1) + K * exp(-r*ttm)*norm.cdf(-d2)
print ("{:.3f} {:.3f}".format(call_price, put_price)) 

205.472 2.480
\end{ipython}
\end{solution}
