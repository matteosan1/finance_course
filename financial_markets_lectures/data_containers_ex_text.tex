\begin{question}
What is a dictionary in \(\tt{python}\) programming language ? Create a dictionary, modify it and then print all its items.
\end{question}

\cprotEnv\begin{solution}
A dictionary is a container that maps a key (any object) to a value (any object), contrary to lists which map an integer (the index) to a value (any object).

\begin{ipython}
dictionary = {"calculus": 28, "physics":30, "chemistry":25}

dictionary["laboratory"] = 27
dictionary["chemistry"] = 24

print ("Exam\tVote")
for k, v in dictionary.items():
    print(f"{k}:\t{v}")
\end{ipython}
\begin{ioutput}
Exam            Vote
calculus:       28
physics:        30
chemistry:      24
laboratory:     27
\end{ioutput}
\end{solution}

\begin{question}
Write code which, given the following list 

\lstinline[language=iPython]|input\_list = [3, 5, 2, 1, 13, 5, 5, 1, 3, 4]|

\noindent
prints out the indices of every occurrence of \lstinline[language=iPython]|y=5|.
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
l = [3, 5, 2, 1, 13, 5, 5, 1, 3, 4]

for i in range(len(l)):
    if l[i] == y:
        print (i)
\end{ipython}
\begin{ioutput}
1
5
6
\end{ioutput}
Note that lists already have a way to get the occurrences of an item: \texttt{l.count(5)} would have done the job.
\end{solution}

\begin{question}
Write a \texttt{python} program to convert a list of tuples into a dictionary where the keys are the first elements of each tuples and the values the second.

\noindent
Input: \lstinline[language=iPython]|l = [("x", 1), ("x", 2), ("x", 3), ("y", 1), ("y", 2), ("z", 1)]|
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
l = [("x", 1), ("x", 2), ("x", 3), ("y", 1), ("y", 2), ("z", 1)]

d = {}
for item in l:
    d[item][0]] = item[1]
    
print(d)
\end{ipython}
\begin{ioutput}
{'x': 3, 'y': 2, 'z': 1}
\end{ioutput}
Note that there is just one occurrence of the key $\tt{x}$ and $\tt{y}$ because keys has to be unique and setting the same key to a different value simply overwrite the existing entry.
\end{solution}

\begin{question}
Write a \texttt{python} program to increment by 10 the last value of each tuples in a list.

\noindent
Input: \lstinline[language=iPython]|l = [(10, 20, 40), (40, 50, 60), (70, 80, 90)]|.
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
l = [(10, 20, 40), (40, 50, 60), (70, 80, 90)]

for i in range(len(l)):
    new_tuple = l[:-1] + [l[2] + 10]
    l[i] = new_tuple
    
print (l)
\end{ipython}
\begin{ioutput}
[(10, 20, 50), (40, 50, 70), (70, 80, 100)]
\end{ioutput}
\end{solution}

\begin{question}
Write a \texttt{python} program to count the elements in a list until an element is a tuple.

\noindent
Input:\lstinline[language=iPython]|l = [1, 5, 'a', (1, 2), 'test':1]|
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
l = [1, 5, 'a', (1, 2), 'test':1]

number_of_items = 0 
for item in l:
    if type(item) != 'tuple'{:}
        number_of_items += 1
    else:
        break
        
print(f"There are {number_of_items} items before a tuple.")
\end{ipython}
\begin{ioutput}
\end{ioutput}
\end{solution}

\begin{question}
Write a \texttt{python} script to concatenate the following dictionaries to create a new single one.

\noindent 
Input:
\lstinline[language=iPython]|dic1 = \{1:10, 2:20\}; dic2 = \{3:30, 4:40\}; dic3 = \{5:50, 6:60\}|
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
dic1 = {1:10, 2:20}
dic2 = {3:30, 4:40}
dic3 = {5:50, 6:60}

dic_tot = dict()
dic_tot.update(dic1)
dic_tot.update(dic2)
dic_tot.update(dic3)

print(dic_tot)
\end{ipython}
\begin{ioutput}
{1: 10, 2: 20, 3: 30, 4: 40, 5: 50, 6: 60}
\end{ioutput}

An alternative and even more concise way using the \texttt{**} operator is the following:
\begin{ipython}
dic1 = {1:10, 2:20}
dic2 = {3:30, 4:40}
dic3 = {5:50, 6:60}

new_dic = {**dic1, **dic2, **dic3}
\end{ipython}
\end{solution}

\begin{question}
Write a \texttt{python} script to check whether a given key already exists in a dictionary.
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
dic = {"a":1, "b":2, "c":3}

print("z" in dic)
print("a" in dic)
\end{ipython}
\begin{ioutput}
False
True
\end{ioutput}
\end{solution}

\begin{question}
Write a \texttt{python} program to combine two dictionary adding values for common keys.

\noindent
Input: \lstinline[language=iPython]|d1 = \{'a':100, 'b':200, 'c':300\}; d2 = \{'a':300, 'b':200, 'd':400\}|
\end{question}

\cprotEnv\begin{solution}
\begin{ipython}
d1 = {'a':100, 'b':200, 'c':300}
d2 = {'a':300, 'b':200, 'd':400}

d = {}
d.update(d1)

for k in d2.keys():
    if k in d:
        d[k] = d[k] + d2[k]
    else:
        d[k] = d2[k]

print(d)
\end{ipython}
\begin{ioutput}
{'a': 400, 'b': 400, 'c': 300, 'd': 400}
\end{ioutput}
\end{solution}

\begin{question}
Given the following dictionary mapping currencies to 2-year zero coupon bond prices, build another dictionary mapping the same currencies to the corresponding annualized interest rates.

\lstinline[language=iPython]|d = {'EUR':0.9, 'CHF':1.005, 'USD':0.985, 'GBP':0.97}|
\end{question}

\cprotEnv\begin{solution}
The price of a n-years zero coupon bond is:

\[ P = \frac{M}{(1+r)^{n}} = M\cdot D \]
where $M$ is the value of the bond at the maturity, $r$ is the risk-free rate and $n$ is the number of years until maturity.
%Hence:

\[ D = \cfrac{1}{(1+r)^{n}} \implies r = \Big(\cfrac{1}{D}\Big)^{\cfrac{1}{n}} - 1\]

\begin{ipython}
# initialize an empty dictionary in which to store result
rates = {}

maturity = 2
discount_factors = {'EUR':0.9, 'CHF':1.005, 'USD':0.985, 'GBP':0.97}

# loop over the input dictionary to get the currencies
for currency, df in discount_factors.items():
    # calculate the rate and store it in the output dictionary
    rates[currency] = pow(1/df, 1/maturity) - 1
   
for r in rates.items():
    print(r)
\end{ipython}
\begin{ioutput}
('EUR', 0.05409255338945984)
('CHF', -0.002490663892367073)
('USD', 0.007585443719756668)
('GBP', 0.015346165133619083)
\end{ioutput}
\end{solution}